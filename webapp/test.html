<!DOCTYPE html>
<html>
  <head>
    <title>Rickshaw test</title>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/d3/d3.min.js"></script>
    <script src="bower_components/rickshaw/rickshaw.js"></script>
    <link rel="stylesheet" href="bower_components/rickshaw/rickshaw.css">
  </head>
  <style>
    html {
      box-sizing: border-box;
    }

    * {
      box-sizing: inherit;
    }

    #chart_container, #chart {
      width: 100%;
    }
  </style>
  <body>

    <h1>Demo Graph</h1>

		<div id="chart_container">
						<div id="chart"></div>
		</div>

    <script>
      var data = [
        {
            "temperature": 18.625,
            "timestamp": 1474519207
        },
        {
            "temperature": 18.875,
            "timestamp": 1474519508
        },
        {
            "temperature": 18.875,
            "timestamp": 1474519808
        },
        {
            "temperature": 19.0625,
            "timestamp": 1474520108
        },
        {
            "temperature": 19.125,
            "timestamp": 1474520408
        },
        {
            "temperature": 19.25,
            "timestamp": 1474520708
        },
        {
            "temperature": 19.3125,
            "timestamp": 1474521008
        },
        {
            "temperature": 19.25,
            "timestamp": 1474521308
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474521608
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474521908
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474522208
        },
        {
            "temperature": 19.5,
            "timestamp": 1474522508
        },
        {
            "temperature": 19.5,
            "timestamp": 1474522808
        },
        {
            "temperature": 19.625,
            "timestamp": 1474523108
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474523408
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474523708
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474524008
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474524308
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474524608
        },
        {
            "temperature": 19.5,
            "timestamp": 1474524908
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474525208
        },
        {
            "temperature": 19.5,
            "timestamp": 1474525508
        },
        {
            "temperature": 19.5,
            "timestamp": 1474525808
        },
        {
            "temperature": 19.375,
            "timestamp": 1474526108
        },
        {
            "temperature": 19.375,
            "timestamp": 1474526408
        },
        {
            "temperature": 19.5,
            "timestamp": 1474526708
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474527008
        },
        {
            "temperature": 19.5,
            "timestamp": 1474527308
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474527608
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474527908
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474528208
        },
        {
            "temperature": 19.5,
            "timestamp": 1474528508
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474528808
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474529108
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474529408
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474529708
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474530008
        },
        {
            "temperature": 19.375,
            "timestamp": 1474530308
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474530608
        },
        {
            "temperature": 19.375,
            "timestamp": 1474530908
        },
        {
            "temperature": 19.5,
            "timestamp": 1474531208
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474531508
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474531808
        },
        {
            "temperature": 19.4375,
            "timestamp": 1474532108
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474532408
        },
        {
            "temperature": 19.5625,
            "timestamp": 1474532708
        },
        {
            "temperature": 19.5,
            "timestamp": 1474533008
        },
        {
            "temperature": 19.5,
            "timestamp": 1474533308
        },
        {
            "temperature": 19.375,
            "timestamp": 1474533608
        },
        {
            "temperature": 18.9375,
            "timestamp": 1474533908
        },
        {
            "temperature": 18.6875,
            "timestamp": 1474534208
        },
        {
            "temperature": 18.5,
            "timestamp": 1474534508
        },
        {
            "temperature": 18.375,
            "timestamp": 1474534808
        },
        {
            "temperature": 18.3125,
            "timestamp": 1474535108
        },
        {
            "temperature": 18.4375,
            "timestamp": 1474535408
        },
        {
            "temperature": 18.3125,
            "timestamp": 1474535708
        },
        {
            "temperature": 18.25,
            "timestamp": 1474536008
        },
        {
            "temperature": 18.25,
            "timestamp": 1474536308
        },
        {
            "temperature": 18.375,
            "timestamp": 1474536608
        },
        {
            "temperature": 18.4375,
            "timestamp": 1474536908
        },
        {
            "temperature": 18.3125,
            "timestamp": 1474537208
        },
        {
            "temperature": 18.125,
            "timestamp": 1474537508
        },
        {
            "temperature": 18.0,
            "timestamp": 1474537808
        },
        {
            "temperature": 17.8125,
            "timestamp": 1474538108
        },
        {
            "temperature": 17.75,
            "timestamp": 1474538408
        },
        {
            "temperature": 17.625,
            "timestamp": 1474538708
        },
        {
            "temperature": 17.5,
            "timestamp": 1474539008
        },
        {
            "temperature": 17.375,
            "timestamp": 1474539308
        },
        {
            "temperature": 17.25,
            "timestamp": 1474539608
        },
        {
            "temperature": 17.1875,
            "timestamp": 1474539908
        },
        {
            "temperature": 17.1875,
            "timestamp": 1474540208
        },
        {
            "temperature": 17.25,
            "timestamp": 1474540508
        },
        {
            "temperature": 17.625,
            "timestamp": 1474540808
        },
        {
            "temperature": 18.25,
            "timestamp": 1474541108
        },
        {
            "temperature": 18.0625,
            "timestamp": 1474541408
        },
        {
            "temperature": 17.75,
            "timestamp": 1474541708
        },
        {
            "temperature": 17.625,
            "timestamp": 1474542008
        },
        {
            "temperature": 17.4375,
            "timestamp": 1474542308
        },
        {
            "temperature": 17.3125,
            "timestamp": 1474542608
        },
        {
            "temperature": 17.1875,
            "timestamp": 1474542908
        },
        {
            "temperature": 17.1875,
            "timestamp": 1474543208
        },
        {
            "temperature": 17.0625,
            "timestamp": 1474543508
        },
        {
            "temperature": 17.0,
            "timestamp": 1474543808
        },
        {
            "temperature": 17.0,
            "timestamp": 1474544108
        },
        {
            "temperature": 16.875,
            "timestamp": 1474544408
        },
        {
            "temperature": 16.75,
            "timestamp": 1474544708
        },
        {
            "temperature": 16.625,
            "timestamp": 1474545008
        },
        {
            "temperature": 16.625,
            "timestamp": 1474545308
        },
        {
            "temperature": 16.5625,
            "timestamp": 1474545608
        },
        {
            "temperature": 16.5,
            "timestamp": 1474545908
        },
        {
            "temperature": 16.375,
            "timestamp": 1474546208
        },
        {
            "temperature": 16.5,
            "timestamp": 1474546508
        },
        {
            "temperature": 16.375,
            "timestamp": 1474546808
        },
        {
            "temperature": 16.3125,
            "timestamp": 1474547108
        },
        {
            "temperature": 16.3125,
            "timestamp": 1474547408
        },
        {
            "temperature": 16.25,
            "timestamp": 1474547708
        },
        {
            "temperature": 16.1875,
            "timestamp": 1474548008
        },
        {
            "temperature": 16.0625,
            "timestamp": 1474548308
        },
        {
            "temperature": 16.0625,
            "timestamp": 1474548608
        },
        {
            "temperature": 16.0,
            "timestamp": 1474548908
        },
        {
            "temperature": 15.9375,
            "timestamp": 1474549208
        },
        {
            "temperature": 15.9375,
            "timestamp": 1474549508
        },
        {
            "temperature": 15.875,
            "timestamp": 1474549808
        },
        {
            "temperature": 15.8125,
            "timestamp": 1474550108
        },
        {
            "temperature": 15.6875,
            "timestamp": 1474550408
        },
        {
            "temperature": 15.6875,
            "timestamp": 1474550708
        },
        {
            "temperature": 15.625,
            "timestamp": 1474551008
        },
        {
            "temperature": 15.5625,
            "timestamp": 1474551308
        },
        {
            "temperature": 15.4375,
            "timestamp": 1474551608
        },
        {
            "temperature": 15.375,
            "timestamp": 1474551908
        },
        {
            "temperature": 15.3125,
            "timestamp": 1474552208
        },
        {
            "temperature": 15.375,
            "timestamp": 1474552508
        },
        {
            "temperature": 15.3125,
            "timestamp": 1474552808
        },
        {
            "temperature": 15.1875,
            "timestamp": 1474553108
        },
        {
            "temperature": 15.1875,
            "timestamp": 1474553408
        },
        {
            "temperature": 15.125,
            "timestamp": 1474553708
        },
        {
            "temperature": 15.0625,
            "timestamp": 1474554008
        },
        {
            "temperature": 15.0625,
            "timestamp": 1474554308
        },
        {
            "temperature": 15.0,
            "timestamp": 1474554608
        },
        {
            "temperature": 15.0,
            "timestamp": 1474554908
        },
        {
            "temperature": 14.9375,
            "timestamp": 1474555208
        },
        {
            "temperature": 14.9375,
            "timestamp": 1474555508
        },
        {
            "temperature": 14.9375,
            "timestamp": 1474555808
        },
        {
            "temperature": 14.875,
            "timestamp": 1474556108
        },
        {
            "temperature": 14.9375,
            "timestamp": 1474556408
        },
        {
            "temperature": 14.9375,
            "timestamp": 1474556708
        },
        {
            "temperature": 14.875,
            "timestamp": 1474557008
        },
        {
            "temperature": 14.875,
            "timestamp": 1474557308
        },
        {
            "temperature": 14.8125,
            "timestamp": 1474557608
        },
        {
            "temperature": 14.75,
            "timestamp": 1474557908
        },
        {
            "temperature": 14.75,
            "timestamp": 1474558208
        },
        {
            "temperature": 14.6875,
            "timestamp": 1474558508
        },
        {
            "temperature": 14.625,
            "timestamp": 1474558808
        },
        {
            "temperature": 14.625,
            "timestamp": 1474559108
        },
        {
            "temperature": 14.5625,
            "timestamp": 1474559408
        },
        {
            "temperature": 14.5625,
            "timestamp": 1474559708
        },
        {
            "temperature": 14.5,
            "timestamp": 1474560008
        },
        {
            "temperature": 14.5,
            "timestamp": 1474560308
        },
        {
            "temperature": 14.4375,
            "timestamp": 1474560608
        },
        {
            "temperature": 14.4375,
            "timestamp": 1474560908
        },
        {
            "temperature": 14.375,
            "timestamp": 1474561208
        },
        {
            "temperature": 14.3125,
            "timestamp": 1474561508
        },
        {
            "temperature": 14.3125,
            "timestamp": 1474561808
        },
        {
            "temperature": 14.3125,
            "timestamp": 1474562108
        },
        {
            "temperature": 14.1875,
            "timestamp": 1474562408
        },
        {
            "temperature": 14.1875,
            "timestamp": 1474562708
        },
        {
            "temperature": 14.1875,
            "timestamp": 1474563008
        },
        {
            "temperature": 14.125,
            "timestamp": 1474563308
        },
        {
            "temperature": 14.0625,
            "timestamp": 1474563608
        },
        {
            "temperature": 14.0625,
            "timestamp": 1474563908
        },
        {
            "temperature": 14.0,
            "timestamp": 1474564208
        },
        {
            "temperature": 13.9375,
            "timestamp": 1474564508
        },
        {
            "temperature": 13.9375,
            "timestamp": 1474564808
        },
        {
            "temperature": 13.9375,
            "timestamp": 1474565108
        },
        {
            "temperature": 13.875,
            "timestamp": 1474565408
        },
        {
            "temperature": 13.875,
            "timestamp": 1474565708
        },
        {
            "temperature": 13.75,
            "timestamp": 1474566008
        },
        {
            "temperature": 13.75,
            "timestamp": 1474566308
        },
        {
            "temperature": 13.6875,
            "timestamp": 1474566608
        },
        {
            "temperature": 13.6875,
            "timestamp": 1474566908
        },
        {
            "temperature": 13.6875,
            "timestamp": 1474567208
        },
        {
            "temperature": 13.625,
            "timestamp": 1474567508
        },
        {
            "temperature": 13.625,
            "timestamp": 1474567808
        },
        {
            "temperature": 13.5625,
            "timestamp": 1474568108
        },
        {
            "temperature": 13.5625,
            "timestamp": 1474568408
        },
        {
            "temperature": 13.4375,
            "timestamp": 1474568708
        },
        {
            "temperature": 13.4375,
            "timestamp": 1474569008
        },
        {
            "temperature": 13.4375,
            "timestamp": 1474569308
        },
        {
            "temperature": 13.375,
            "timestamp": 1474569608
        },
        {
            "temperature": 13.375,
            "timestamp": 1474569908
        },
        {
            "temperature": 13.3125,
            "timestamp": 1474570208
        },
        {
            "temperature": 13.3125,
            "timestamp": 1474570508
        },
        {
            "temperature": 13.25,
            "timestamp": 1474570808
        },
        {
            "temperature": 13.1875,
            "timestamp": 1474571108
        },
        {
            "temperature": 13.1875,
            "timestamp": 1474571408
        },
        {
            "temperature": 13.1875,
            "timestamp": 1474571708
        },
        {
            "temperature": 13.125,
            "timestamp": 1474572008
        },
        {
            "temperature": 13.125,
            "timestamp": 1474572308
        },
        {
            "temperature": 13.125,
            "timestamp": 1474572608
        },
        {
            "temperature": 13.0625,
            "timestamp": 1474572908
        },
        {
            "temperature": 13.0,
            "timestamp": 1474573208
        },
        {
            "temperature": 13.0,
            "timestamp": 1474573508
        },
        {
            "temperature": 12.9375,
            "timestamp": 1474573808
        },
        {
            "temperature": 12.9375,
            "timestamp": 1474574108
        },
        {
            "temperature": 12.875,
            "timestamp": 1474574408
        },
        {
            "temperature": 12.8125,
            "timestamp": 1474574708
        },
        {
            "temperature": 12.8125,
            "timestamp": 1474575008
        },
        {
            "temperature": 12.75,
            "timestamp": 1474575308
        },
        {
            "temperature": 12.6875,
            "timestamp": 1474575608
        },
        {
            "temperature": 12.6875,
            "timestamp": 1474575908
        },
        {
            "temperature": 12.6875,
            "timestamp": 1474576208
        },
        {
            "temperature": 12.625,
            "timestamp": 1474576508
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474576808
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474577108
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474577408
        },
        {
            "temperature": 12.5,
            "timestamp": 1474577708
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474578008
        },
        {
            "temperature": 12.5,
            "timestamp": 1474578308
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474578608
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474578908
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474579208
        },
        {
            "temperature": 12.5,
            "timestamp": 1474579508
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474579808
        },
        {
            "temperature": 12.5,
            "timestamp": 1474580108
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474580408
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474580708
        },
        {
            "temperature": 12.625,
            "timestamp": 1474581008
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474581308
        },
        {
            "temperature": 12.5625,
            "timestamp": 1474581608
        },
        {
            "temperature": 12.625,
            "timestamp": 1474581908
        },
        {
            "temperature": 12.6875,
            "timestamp": 1474582208
        },
        {
            "temperature": 12.6875,
            "timestamp": 1474582508
        },
        {
            "temperature": 12.75,
            "timestamp": 1474582808
        },
        {
            "temperature": 12.75,
            "timestamp": 1474583108
        },
        {
            "temperature": 12.8125,
            "timestamp": 1474583408
        },
        {
            "temperature": 12.875,
            "timestamp": 1474583708
        },
        {
            "temperature": 12.875,
            "timestamp": 1474584008
        },
        {
            "temperature": 12.9375,
            "timestamp": 1474584308
        },
        {
            "temperature": 13.0625,
            "timestamp": 1474584608
        },
        {
            "temperature": 13.0625,
            "timestamp": 1474584908
        },
        {
            "temperature": 13.125,
            "timestamp": 1474585208
        },
        {
            "temperature": 13.25,
            "timestamp": 1474585508
        },
        {
            "temperature": 13.3125,
            "timestamp": 1474585808
        },
        {
            "temperature": 13.375,
            "timestamp": 1474586108
        },
        {
            "temperature": 13.375,
            "timestamp": 1474586408
        },
        {
            "temperature": 13.5625,
            "timestamp": 1474586708
        },
        {
            "temperature": 13.5625,
            "timestamp": 1474587008
        }
    ];

      // thedata = [ { y: 18.6875, x: 1474291065 }, { y: 18.8125, x: 1474291365 }, { y: 18.5625, x: 1474291665 }, { y: 18.625, x: 1474519207 } ];

      thedata = data.map(function(e) {
        return {x: e.timestamp, y: e.temperature };
      });

      var graph = new Rickshaw.Graph( {
      element: document.querySelector('#chart'),
      renderer: "scatterplot",
      height: 500,
      padding: {right: 0.05, left: 0.05},
      min: -80,
      max: 80,
      series: [
        {
          name: 'temperature',
          color: 'steelblue',
          data: thedata
        }
     ]
    } );

    var x_axis = new Rickshaw.Graph.Axis.Time( {
        graph: graph,
        height: 800,
        timeFixture: new Rickshaw.Fixtures.Time.Local()
    } );

		var y_axis = new Rickshaw.Graph.Axis.Y( {
        graph: graph,
        pixelsPerTick: 30,
        tickFormat: function(e) {return e + '°C'; },
        //element: document.getElementById('y_axis'),
		} );

    new Rickshaw.Graph.HoverDetail( { 
      graph: graph,
      xFormatter: function(x) {
         return   new Date(x * 1000).toLocaleString();
        //return new Date( (x) * 1000 ).toUTCString();
      }

    });

 		graph.render();
    </script>
  </body>
</html>
